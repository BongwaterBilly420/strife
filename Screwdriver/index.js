(function(s,i,o,a,l,b,m,c){"use strict";const p=o.findByStoreName("DeveloperOptionsStore"),u=o.findByProps("setDeveloperOptionSettings"),r=function(e){return u.setDeveloperOptionSettings({bugReporterEnabled:e})};function S(){const e=p.isBugReporterEnabled;r(!i.storage.disableBugReporter);const n=a.before("setDeveloperOptionSettings",u,function(t){!i.storage.disableBugReporter||!t[0]?.bugReporterEnabled||(t[0].bugReporterEnabled=!1)});return function(){n(),r(e)}}const h=o.findByProps("addFiles","popFirstFile");function R(){return a.before("addFiles",h,function(e){i.storage.fixJSONUploads&&e[0]?.files.forEach(function(n){n.mimeType==="application/json"&&(n.mimeType="text/plain")})})}const y=o.findByProps("canUseClientThemes"),d=o.findByProps("setShouldSyncAppearanceSettings"),f=d.setShouldSyncAppearanceSettings;function v(){const e=[];return f(!1),e.push(a.before("setShouldSyncAppearanceSettings",d,function(n){i.storage.enableClientThemes&&(n[0]=!1)})),e.push(a.after("canUseClientThemes",y,function(n,t){return t||i.storage.enableClientThemes})),function(){e.forEach(function(n){return n()}),f(!0)}}const{FormSection:E,FormRow:F,FormSwitchRow:B,FormDivider:N}=c.Forms,T=[{title:"Quality of Life",items:[{label:"Forcibly disable Bug Reporter",subLabel:"Prevent enabling Discord's Bug Reporter, since the value of built-in toggle does not persist.",icon:"ic_noise_cancellation_disabled",setting:"disableBugReporter",action:function(){return r(!1)}}]},{title:"Fixes",items:[{label:"JSON file uploads",subLabel:"Fix a long-standing Discord bug causing JSON files to be uploaded with their metadata as contents.",icon:"ic_file_upload_24px",setting:"fixJSONUploads"}]},{title:"Forbidden Fruit",disclaimer:"These features grant certain Nitro perks without Nitro, take caution when using them.",items:[{label:"Enable Client Themes",subLabel:"Forcibly enable Discord's themes, regardless of if you have Nitro.",icon:"ic_theme_24px",setting:"enableClientThemes"}]}];function D(){return b.useProxy(i.storage),React.createElement(l.ReactNative.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},T.map(function(e,n){return React.createElement(E,{title:e.title,titleStyleType:n===0?"no_border":void 0},e.disclaimer&&React.createElement(l.ReactNative.View,{style:{marginHorizontal:10,marginBottom:10}},React.createElement(c.HelpMessage,{messageType:0},e.disclaimer)),e.items.map(function(t,w){return React.createElement(React.Fragment,null,React.createElement(B,{label:t.label,subLabel:t.subLabel,leading:t.icon&&React.createElement(F.Icon,{source:m.getAssetIDByName(t.icon)}),disabled:t.disabled,value:i.storage[t.setting],onValueChange:function(g){t.action?.(g),i.storage[t.setting]=g}}),w!==e.items.length-1&&React.createElement(N,null))}))}))}i.storage.fixJSONUploads??=!0;const O=[S(),R(),v()],_=function(){return O.forEach(function(e){return e()})};return s.onUnload=_,s.settings=D,s})({},vendetta.plugin,vendetta.metro,vendetta.patcher,vendetta.metro.common,vendetta.storage,vendetta.ui.assets,vendetta.ui.components);
